@import "tailwindcss";

/* ================================
   Tailwind v4 Theme Tokens
================================ */
@theme {
  /* Dark Theme Colors */
  --color-background: hsl(240 10% 3.9%);
  --color-foreground: hsl(0 0% 98%);

  --color-border: hsl(240 3.7% 15.9%);
  --color-input: hsl(240 3.7% 15.9%);
  --color-ring: hsl(263 70% 50%);

  /* Primary - Purple/Violet */
  --color-primary: hsl(263 70% 50%);
  --color-primary-foreground: hsl(0 0% 100%);

  /* Secondary */
  --color-secondary: hsl(240 3.7% 15.9%);
  --color-secondary-foreground: hsl(0 0% 98%);

  /* Muted */
  --color-muted: hsl(240 3.7% 15.9%);
  --color-muted-foreground: hsl(240 5% 64.9%);

  /* Accent */
  --color-accent: hsl(240 3.7% 15.9%);
  --color-accent-foreground: hsl(0 0% 98%);

  /* Destructive */
  --color-destructive: hsl(0 62.8% 30.6%);
  --color-destructive-foreground: hsl(0 0% 98%);

  /* Card */
  --color-card: hsl(240 10% 3.9%);
  --color-card-foreground: hsl(0 0% 98%);

  /* Border Radius */
  --radius-lg: 0.5rem;
  --radius-md: 0.375rem;
  --radius-sm: 0.25rem;
}

/* ================================
   Base Styles
================================ */
* {
  border-color: theme(--color-border);
}

body {
  background-color: theme(--color-background);
  color: theme(--color-foreground);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ================================
   Scrollbar
================================ */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: hsl(240 10% 3.9%);
}

::-webkit-scrollbar-thumb {
  background: hsl(240 3.7% 15.9%);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(240 5% 26%);
}

/* ================================
   Smooth Scrolling
================================ */
html {
  scroll-behavior: smooth;
}

/* ================================
   Selection
================================ */
::selection {
  background-color: hsl(263 70% 50% / 0.2);
  color: theme(--color-foreground);
}

/* ================================
   Utilities
================================ */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* ================================
   ✅ TAILWIND V3 COMPATIBILITY
   (Makes @theme work with current Next.js)
================================ */
:root {
  --background: 240 10% 3.9%;
  --foreground: 0 0% 98%;
  --border: 240 3.7% 15.9%;
  --input: 240 3.7% 15.9%;
  --ring: 263 70% 50%;
  --primary: 263 70% 50%;
  --primary-foreground: 0 0% 100%;
  --secondary: 240 3.7% 15.9%;
  --secondary-foreground: 0 0% 98%;
  --muted: 240 3.7% 15.9%;
  --muted-foreground: 240 5% 64.9%;
  --accent: 240 3.7% 15.9%;
  --accent-foreground: 0 0% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;
  --card: 240 10% 3.9%;
  --card-foreground: 0 0% 98%;
}

/* ================================
   ✅ INPUT/TEXTAREA TEXT VISIBILITY FIX
   Dark backgrounds = light text
   Light backgrounds = dark text
================================ */

/* Default (dark theme) - Light text */
input,
textarea,
select {
  color: hsl(0 0% 98%) !important;
  background-color: hsl(240 3.7% 15.9%);
}

input::placeholder,
textarea::placeholder {
  color: hsl(240 5% 64.9%);
  opacity: 1;
}

/* Light backgrounds - Dark text override */
.bg-white input,
.bg-white textarea,
.bg-white select,
.bg-gray-50 input,
.bg-gray-50 textarea,
.bg-gray-50 select,
.bg-gray-100 input,
.bg-gray-100 textarea,
.bg-gray-100 select,
.bg-primary-50 input,
.bg-primary-50 textarea,
.bg-primary-50 select,
.bg-blue-50 input,
.bg-blue-50 textarea,
.bg-blue-50 select {
  color: #111827 !important;
  background-color: white;
}

.bg-white input::placeholder,
.bg-white textarea::placeholder,
.bg-gray-50 input::placeholder,
.bg-gray-50 textarea::placeholder,
.bg-gray-100 input::placeholder,
.bg-gray-100 textarea::placeholder,
.bg-primary-50 input::placeholder,
.bg-primary-50 textarea::placeholder,
.bg-blue-50 input::placeholder,
.bg-blue-50 textarea::placeholder {
  color: #9ca3af;
}

/* Card components with light backgrounds */
[class*="bg-white"] input,
[class*="bg-white"] textarea,
[class*="bg-white"] select,
[class*="bg-gray-"] input,
[class*="bg-gray-"] textarea,
[class*="bg-gray-"] select {
  color: #111827 !important;
}

/* Date/Time inputs */
input[type="date"],
input[type="time"],
input[type="datetime-local"] {
  color-scheme: dark;
}

.bg-white input[type="date"],
.bg-white input[type="time"],
.bg-white input[type="datetime-local"],
.bg-gray-50 input[type="date"],
.bg-gray-50 input[type="time"],
.bg-gray-50 input[type="datetime-local"] {
  color-scheme: light;
  color: #111827 !important;
}

/* Autofill fixes */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active,
textarea:-webkit-autofill,
textarea:-webkit-autofill:hover,
textarea:-webkit-autofill:focus,
textarea:-webkit-autofill:active,
select:-webkit-autofill,
select:-webkit-autofill:hover,
select:-webkit-autofill:focus,
select:-webkit-autofill:active {
  -webkit-text-fill-color: hsl(0 0% 98%) !important;
  -webkit-box-shadow: 0 0 0px 1000px hsl(240 3.7% 15.9%) inset;
}

.bg-white input:-webkit-autofill,
.bg-white input:-webkit-autofill:hover,
.bg-white input:-webkit-autofill:focus,
.bg-white input:-webkit-autofill:active,
.bg-gray-50 input:-webkit-autofill,
.bg-gray-50 input:-webkit-autofill:hover,
.bg-gray-50 input:-webkit-autofill:focus,
.bg-gray-50 input:-webkit-autofill:active {
  -webkit-text-fill-color: #111827 !important;
  -webkit-box-shadow: 0 0 0px 1000px white inset;
}